



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>Your first project</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#your-first-project" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Pascal3D" class="md-header-nav__button md-logo">
          
            <img src="../../img/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Pascal3D
              </span>
              <span class="md-header-nav__topic">
                Your first project
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Pascal3D" class="md-nav__button md-logo">
      
        <img src="../../img/logo.svg" width="48" height="48">
      
    </a>
    Pascal3D
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/pascal3d_base_overview/" title="pascal3d_base" class="md-nav__link">
      pascal3d_base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/pascal3d_overview/" title="pascal3d_core" class="md-nav__link">
      pascal3d_core
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Your first project
      </label>
    
    <a href="./" title="Your first project" class="md-nav__link md-nav__link--active">
      Your first project
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparing-the-project-and-main-unit" title="Preparing the project and main unit" class="md-nav__link">
    Preparing the project and main unit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-the-window" title="Creating the window" class="md-nav__link">
    Creating the window
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../02-first-triangle/" title="Rendering a triangle" class="md-nav__link">
      Rendering a triangle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../03-rotation-and-dynamic-data/" title="Rotating the triangle and dynamic data" class="md-nav__link">
      Rotating the triangle and dynamic data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparing-the-project-and-main-unit" title="Preparing the project and main unit" class="md-nav__link">
    Preparing the project and main unit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-the-window" title="Creating the window" class="md-nav__link">
    Creating the window
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="your-first-project">Your first project</h1>
<p>In this tutorial we will set up a basic application that creates a blank window and terminates when the close button of the window is pressed. This can be considered the minimal application for using Pascal3D. It is assumed that you have basic knowledge of Lazarus and Free Pascal.</p>
<p><img alt="A minimal Pascal3D application" src="img/tutorial-1.png" /></p>
<h2 id="preparing-the-project-and-main-unit">Preparing the project and main unit</h2>
<p>As a base we create a new empty project by clicking File-&gt;New-&gt;Simple Program. We then add a new unit to the program and add the following units to the uses clause of the main unit. We don't necessarily need an extra unit but it facilates clarity of the code.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Don't forget to add the pascal3d package to the dependencies of your project in the Lazarus project inspector.</p>
</div>
<div class="codehilite"><pre><span></span><span class="k">unit</span> <span class="n">MainUnit</span><span class="o">;</span>

<span class="cm">{$mode objfpc}{$H+}</span>

<span class="k">interface</span>

<span class="k">uses</span>
  <span class="n">Classes</span><span class="o">,</span>
  <span class="n">SysUtils</span><span class="o">,</span>

<span class="hll">  <span class="n">p3d</span><span class="o">.</span><span class="n">events</span><span class="o">,</span>
</span><span class="hll">  <span class="n">p3d</span><span class="o">.</span><span class="n">core</span><span class="o">;</span>
</span>
<span class="o">...</span>
</pre></div>


<p>Next we need to define our application class. We therefore inherit our class from TP3DApplication.
For now it is just the empty class but in another step we are going to change this.</p>
<div class="codehilite"><pre><span></span><span class="o">...</span>
<span class="k">type</span>

  <span class="cm">{ TMyApplication }</span>

  <span class="n">TMyApplication</span> <span class="o">=</span> <span class="k">class</span> <span class="p">(</span> <span class="n">TP3DApplication</span> <span class="p">)</span>
  <span class="k">end</span><span class="o">;</span>


<span class="k">var</span>
  <span class="n">MyApplication</span><span class="o">:</span> <span class="n">TMyApplication</span> <span class="o">=</span> <span class="k">nil</span><span class="o">;</span>
<span class="o">...</span>
</pre></div>


<p>In our main program we create our instance of our defined application. It will also set the global variable P3DApplication in p3d.events that is used by the p3d units. In the loaded units are some other global variables that need to be initialized before you can use them. This is automatically done when creating the application, so this should usually be the first step. With a call of Run we enter the main loop that is executed until a quit event is triggered by the user or the OS.
Finally after the application has terminated we are freeing it. If we execute the program now it starts up and quickly terminates. That is because we do not have a main window.</p>
<div class="codehilite"><pre><span></span><span class="k">program</span> <span class="n">CreateWindow</span><span class="o">;</span>

<span class="k">uses</span>
  <span class="n">MainUnit</span><span class="o">,</span>
  <span class="n">SysUtils</span><span class="o">;</span>

<span class="k">begin</span>
  <span class="n">MyApplication</span><span class="o">:=</span> <span class="n">TMyApplication</span><span class="o">.</span><span class="n">Create</span><span class="p">()</span><span class="o">;</span>
  <span class="n">MyApplication</span><span class="o">.</span><span class="n">Run</span><span class="o">;</span>
  <span class="nb">FreeAndNil</span><span class="p">(</span> <span class="n">MyApplication</span> <span class="p">)</span><span class="o">;</span>
<span class="k">end</span><span class="o">.</span>
</pre></div>


<h2 id="creating-the-window">Creating the window</h2>
<p>So before running the app we need to create a main window. This can be done by the following line. The MyApplication.Windows parameter determines the owner of the Window. This owner will automatically free the window when the application object is destroyed. MyApplication.Windows should hold all windows used in our application. It is possible to have more than one window. The main window is the first window created and if that is set to nil (e.g. because it is destroyed) the application will exit the main loop.</p>
<div class="codehilite"><pre><span></span><span class="n">TP3DWindow</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span> <span class="n">MyApplication</span><span class="o">.</span><span class="n">Windows</span> <span class="p">)</span><span class="o">;</span>
</pre></div>


<p>For the sake of cleanliness of the code we put this in a separate init procedure and not in the main program.
TP3DApplication provides various hooks for interaction with the application (e.g. initialization, finalization, input).
For that purpose we override the Initialize method in our application class. This is where all the steps necessary to prepare the application before running it should go (eg. creation of a window or loading of assets). We do not need to call this function manually because it is automatically called after creating the application.</p>
<p>We can change the title and the resolution of the window as shown in the code below. It is also possible to switch to full screen mode.</p>
<div class="codehilite"><pre><span></span><span class="k">unit</span> <span class="n">MainUnit</span><span class="o">;</span>

<span class="cm">{$mode objfpc}{$H+}</span>

<span class="k">interface</span>

<span class="k">uses</span>
  <span class="n">Classes</span><span class="o">,</span>
  <span class="n">SysUtils</span><span class="o">,</span>

  <span class="n">p3d</span><span class="o">.</span><span class="n">events</span><span class="o">,</span>
  <span class="n">p3d</span><span class="o">.</span><span class="n">core</span><span class="o">;</span>

<span class="k">type</span>

  <span class="cm">{ TMyApplication }</span>

  <span class="n">TMyApplication</span> <span class="o">=</span> <span class="k">class</span> <span class="p">(</span> <span class="n">TP3DApplication</span> <span class="p">)</span>
    <span class="kp">public</span>
<span class="hll">      <span class="k">procedure</span> <span class="nf">Initialize</span><span class="o">;</span> <span class="kp">override</span><span class="o">;</span> <span class="c1">// Override the Initialize procedure</span>
</span><span class="hll">                                      <span class="c1">// for initialization of your window</span>
</span><span class="hll">                                      <span class="c1">// and all your assets</span>
</span>  <span class="k">end</span><span class="o">;</span>


<span class="k">var</span>
  <span class="n">MyApplication</span><span class="o">:</span> <span class="n">TMyApplication</span> <span class="o">=</span> <span class="k">nil</span><span class="o">;</span>

<span class="k">implementation</span>

<span class="cm">{ TMyApplication }</span>

<span class="k">procedure</span> <span class="nc">TMyApplication</span><span class="o">.</span><span class="nf">Initialize</span><span class="o">;</span>
<span class="k">begin</span>
  <span class="k">inherited</span> <span class="nb">Initialize</span><span class="o">;</span>
<span class="hll">  <span class="n">TP3DWindow</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span> <span class="n">Windows</span> <span class="p">)</span><span class="o">;</span> <span class="c1">// Create the main window. Note that</span>
</span><span class="hll">                                <span class="c1">// this is freed automatically when</span>
</span><span class="hll">                                <span class="c1">// the application terminates</span>
</span>  <span class="n">MainWindow</span><span class="o">.</span><span class="n">Title</span><span class="o">:=</span> <span class="s">&#39;My first Pascal3D application&#39;</span><span class="o">;</span> <span class="c1">// Set the title</span>
  <span class="n">MainWindow</span><span class="o">.</span><span class="n">Width</span><span class="o">:=</span> <span class="mi">800</span><span class="o">;</span> <span class="c1">// Set the resolution</span>
  <span class="n">MainWindow</span><span class="o">.</span><span class="n">Height</span><span class="o">:=</span> <span class="mi">600</span><span class="o">;</span>
  <span class="c1">// Uncomment if you want full screen mode</span>
  <span class="c1">// Exit the application with Alt + F4 / Command + Q</span>
  <span class="c1">//MainWindow.FullScreen:= True;</span>
<span class="k">end</span><span class="o">;</span>
</pre></div>


<p>Now if we run the code only a blank window is shown. If it is closed the application terminates. In the next tutorials we are going to extend this.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../reference/pascal3d_overview/" title="pascal3d_core" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                pascal3d_core
              </span>
            </div>
          </a>
        
        
          <a href="../02-first-triangle/" title="Rendering a triangle" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Rendering a triangle
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.b41f3d20.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>